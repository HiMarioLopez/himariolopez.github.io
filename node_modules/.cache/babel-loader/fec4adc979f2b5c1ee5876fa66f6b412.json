{"ast":null,"code":"import _classCallCheck from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mario/WebProjects/mario-personal-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mario/WebProjects/mario-personal-website/src/components/CustomUpload/ImageUpload.jsx\";\nimport React from \"react\"; // used for making the prop types of this component\n\nimport PropTypes from \"prop-types\"; // core components\n\nimport Button from \"components/CustomButtons/Button.jsx\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\n\nvar ImageUpload =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ImageUpload, _React$Component);\n\n  function ImageUpload(props) {\n    var _this;\n\n    _classCallCheck(this, ImageUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageUpload).call(this, props));\n    _this.state = {\n      file: null,\n      imagePreviewUrl: _this.props.avatar ? defaultAvatar : defaultImage\n    };\n    _this.handleImageChange = _this.handleImageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRemove = _this.handleRemove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ImageUpload, [{\n    key: \"handleImageChange\",\n    value: function handleImageChange(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var reader = new FileReader();\n      var file = e.target.files[0];\n\n      reader.onloadend = function () {\n        _this2.setState({\n          file: file,\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault(); // this.state.file is the file/image uploaded\n      // in this function you can save the image (this.state.file) on form submit\n      // you have to call it yourself\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      this.refs.fileInput.click();\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove() {\n      this.setState({\n        file: null,\n        imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage\n      });\n      this.refs.fileInput.value = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          avatar = _this$props.avatar,\n          addButtonProps = _this$props.addButtonProps,\n          changeButtonProps = _this$props.changeButtonProps,\n          removeButtonProps = _this$props.removeButtonProps;\n      return React.createElement(\"div\", {\n        className: \"fileinput text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handleImageChange,\n        ref: \"fileInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"thumbnail\" + (avatar ? \" img-circle\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imagePreviewUrl,\n        alt: \"...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.file === null ? React.createElement(Button, Object.assign({}, addButtonProps, {\n        onClick: function onClick() {\n          return _this3.handleClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), avatar ? \"Add Photo\" : \"Select image\") : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Button, Object.assign({}, changeButtonProps, {\n        onClick: function onClick() {\n          return _this3.handleClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), \"Change\"), avatar ? React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }) : null, React.createElement(Button, Object.assign({}, removeButtonProps, {\n        onClick: function onClick() {\n          return _this3.handleRemove();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        className: \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), \" Remove\"))));\n    }\n  }]);\n\n  return ImageUpload;\n}(React.Component);\n\nImageUpload.propTypes = {\n  avatar: PropTypes.bool,\n  addButtonProps: PropTypes.object,\n  changeButtonProps: PropTypes.object,\n  removeButtonProps: PropTypes.object\n};\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/mario/WebProjects/mario-personal-website/src/components/CustomUpload/ImageUpload.jsx"],"names":["React","PropTypes","Button","defaultImage","defaultAvatar","ImageUpload","props","state","file","imagePreviewUrl","avatar","handleImageChange","bind","handleSubmit","handleClick","handleRemove","e","preventDefault","reader","FileReader","target","files","onloadend","setState","result","readAsDataURL","refs","fileInput","click","value","addButtonProps","changeButtonProps","removeButtonProps","Component","propTypes","bool","object"],"mappings":"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","sourcesContent":["import React from \"react\";\n// used for making the prop types of this component\nimport PropTypes from \"prop-types\";\n\n// core components\nimport Button from \"components/CustomButtons/Button.jsx\";\n\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\n\nclass ImageUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage\n    };\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n  }\n  handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    };\n    reader.readAsDataURL(file);\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    // this.state.file is the file/image uploaded\n    // in this function you can save the image (this.state.file) on form submit\n    // you have to call it yourself\n  }\n  handleClick() {\n    this.refs.fileInput.click();\n  }\n  handleRemove() {\n    this.setState({\n      file: null,\n      imagePreviewUrl: this.props.avatar ? defaultAvatar : defaultImage\n    });\n    this.refs.fileInput.value = null;\n  }\n  render() {\n    var {\n      avatar,\n      addButtonProps,\n      changeButtonProps,\n      removeButtonProps\n    } = this.props;\n    return (\n      <div className=\"fileinput text-center\">\n        <input type=\"file\" onChange={this.handleImageChange} ref=\"fileInput\" />\n        <div className={\"thumbnail\" + (avatar ? \" img-circle\" : \"\")}>\n          <img src={this.state.imagePreviewUrl} alt=\"...\" />\n        </div>\n        <div>\n          {this.state.file === null ? (\n            <Button {...addButtonProps} onClick={() => this.handleClick()}>\n              {avatar ? \"Add Photo\" : \"Select image\"}\n            </Button>\n          ) : (\n            <span>\n              <Button {...changeButtonProps} onClick={() => this.handleClick()}>\n                Change\n              </Button>\n              {avatar ? <br /> : null}\n              <Button\n                {...removeButtonProps}\n                onClick={() => this.handleRemove()}\n              >\n                <i className=\"fas fa-times\" /> Remove\n              </Button>\n            </span>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nImageUpload.propTypes = {\n  avatar: PropTypes.bool,\n  addButtonProps: PropTypes.object,\n  changeButtonProps: PropTypes.object,\n  removeButtonProps: PropTypes.object\n};\n\nexport default ImageUpload;\n"]},"metadata":{},"sourceType":"module"}